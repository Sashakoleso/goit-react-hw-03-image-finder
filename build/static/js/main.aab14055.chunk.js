(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{10:function(e,a,t){e.exports={App:"Modal_App__1BTnI",Searchbar:"Modal_Searchbar__2h4LN",SearchForm:"Modal_SearchForm__1UxE1",SearchForm_button:"Modal_SearchForm_button__1X63H",SearchForm_button_label:"Modal_SearchForm_button_label__1_TQq",SearchForm_input:"Modal_SearchForm_input__21Fna",ImageGallery:"Modal_ImageGallery__3_uYz",ImageGalleryItem:"Modal_ImageGalleryItem__1NTLX",ImageGalleryItem_image:"Modal_ImageGalleryItem_image__3dZah",Overlay:"Modal_Overlay__1Re83",Modal:"Modal_Modal__17eEw",Button:"Modal_Button__UNvEZ"}},23:function(e,a,t){e.exports={App:"ImageGallery_App__IQEUw",Searchbar:"ImageGallery_Searchbar__33hlz",SearchForm:"ImageGallery_SearchForm__3T8bE",SearchForm_button:"ImageGallery_SearchForm_button__1FBqa",SearchForm_button_label:"ImageGallery_SearchForm_button_label__1V2rz",SearchForm_input:"ImageGallery_SearchForm_input__1W3Qc",ImageGallery:"ImageGallery_ImageGallery__1_CmL",ImageGalleryItem:"ImageGallery_ImageGalleryItem__3jJfJ",ImageGalleryItem_image:"ImageGallery_ImageGalleryItem_image__2KZjM",Overlay:"ImageGallery_Overlay__xwuoI",Modal:"ImageGallery_Modal__3X9qp",Button:"ImageGallery_Button__3qV2u"}},24:function(e,a,t){},26:function(e,a,t){e.exports={loader:"Loader_loader__1f5ab"}},27:function(e,a,t){e.exports=t(70)},3:function(e,a,t){e.exports={App:"SearchBar_App__Klnmz",Searchbar:"SearchBar_Searchbar__2K02J",SearchForm:"SearchBar_SearchForm__ItvbS",SearchForm_button:"SearchBar_SearchForm_button__13HXi",SearchForm_button_label:"SearchBar_SearchForm_button_label__SUNjH",SearchForm_input:"SearchBar_SearchForm_input__K5i1z",ImageGallery:"SearchBar_ImageGallery__1_E5Y",ImageGalleryItem:"SearchBar_ImageGalleryItem__1o0aJ",ImageGalleryItem_image:"SearchBar_ImageGalleryItem_image__3MkwO",Overlay:"SearchBar_Overlay__31Flc",Modal:"SearchBar_Modal__32D-F",Button:"SearchBar_Button__xLPWr"}},70:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(21),o=t.n(l),m=t(11),c=t(4),_=t(5),i=t(7),u=t(6),g=t(8),h=t(22),s=t.n(h),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cat",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&page=".concat(a,"&key=14164139-8943874eaa49b60ce964146b7&q=").concat(e))},I=t(3),p=t.n(I),d=function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={query:""},t.handleChange=function(e){t.setState({query:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.query;t.props.onSearch(a),t.setState({query:""})},t}return Object(g.a)(a,e),Object(_.a)(a,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("header",{className:p.a.Searchbar},n.a.createElement("form",{onSubmit:this.handleSubmit,className:p.a.SearchForm},n.a.createElement("button",{type:"submit",className:p.a.SearchFormButton},n.a.createElement("span",{className:p.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(r.Component),b=t(9),S=t.n(b),G=function(e){var a=e.dataObj,t=e.onOpenModal;return n.a.createElement("li",{className:S.a.ImageGalleryItem,onClick:function(){return t(a.webformatURL)}},n.a.createElement("img",{src:a.webformatURL,alt:"",className:S.a.ImageGalleryItemImage}))},f=t(23),v=t.n(f),F=function(e){var a=e.items,t=e.onOpenModal;return n.a.createElement("ul",{className:v.a.ImageGallery},a.map((function(e){return n.a.createElement(G,{onOpenModal:t,key:e.id,dataObj:e})})))},M=t(24),E=t.n(M),O=function(e){var a=e.ChangePage;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:a,type:"button",className:E.a.Button},"Load more"))},B=t(25),N=t.n(B),w=t(26),j=t.n(w),k=function(){return n.a.createElement("div",{className:j.a.loader},n.a.createElement(N.a,{type:"BallTriangle",color:"grey",height:100,width:100}))},q=t(10),L=t.n(q),C=function(e){var a=e.bigPicture,t=e.closeModal;return n.a.createElement("div",{className:L.a.Overlay,onClick:t},n.a.createElement("div",{className:L.a.Modal},n.a.createElement("img",{src:a,alt:""})))},x=function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).state={images:[],isLoading:!1,pageNumber:1,query:"",isModalOpen:!1,bigPicture:""},t.changePage=function(){t.state.images.length>0&&t.setState((function(e){return{pageNumber:e.pageNumber+1}}))},t.getImages=function(e,a){t.setState({isLoading:!0}),y(e,a).then((function(e){return t.setState((function(a){return{images:[].concat(Object(m.a)(a.images),Object(m.a)(e.data.hits))}}))})).finally((function(){return setTimeout((function(){t.setState({isLoading:!1})}),500)}))},t.onSearch=function(e){t.setState({query:e,images:[],pageNumber:1})},t.openModal=function(e){t.setState({isModalOpen:!0,bigPicture:e}),window.addEventListener("keydown",t.closeModal)},t.closeModal=function(e){e.target!==e.currentTarget&&27!==e.keyCode||t.setState({isModalOpen:!1}),window.removeEventListener("keydown",t.closeModal)},t}return Object(g.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.query,t=e.pageNumber;this.getImages(a,t)}},{key:"componentDidUpdate",value:function(e,a){var t=this.state,r=t.pageNumber,n=t.query,l=t.images;a.pageNumber===r&&a.query===n||this.getImages(n,r),a.images!==l&&l.length>12&&setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,r=e.isModalOpen,l=e.bigPicture;return n.a.createElement(n.a.Fragment,null,n.a.createElement(d,{onSearch:this.onSearch}),n.a.createElement(F,{items:a,onOpenModal:this.openModal}),t&&n.a.createElement(k,null),n.a.createElement(O,{ChangePage:this.changePage}),r&&n.a.createElement(C,{bigPicture:l,closeModal:this.closeModal}))}}]),a}(r.Component);o.a.render(n.a.createElement(x,null),document.getElementById("root"))},9:function(e,a,t){e.exports={App:"ImageGalleryItem_App__3XY9K",Searchbar:"ImageGalleryItem_Searchbar__5dOxy",SearchForm:"ImageGalleryItem_SearchForm__3N71E",SearchForm_button:"ImageGalleryItem_SearchForm_button__1Ykqe",SearchForm_button_label:"ImageGalleryItem_SearchForm_button_label__1Tn-9",SearchForm_input:"ImageGalleryItem_SearchForm_input__1Go6X",ImageGallery:"ImageGalleryItem_ImageGallery__18YJX",ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__ynTMj",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__12DcY",Overlay:"ImageGalleryItem_Overlay__2ruT3",Modal:"ImageGalleryItem_Modal__99iYB",Button:"ImageGalleryItem_Button__3Ujaj"}}},[[27,1,2]]]);
//# sourceMappingURL=main.aab14055.chunk.js.map